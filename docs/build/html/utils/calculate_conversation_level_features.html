<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>calculate_conversation_level_features module &mdash; Team Communication Toolkit 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=a58bc63e"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="calculate_user_level_features module" href="calculate_user_level_features.html" />
    <link rel="prev" title="calculate_chat_level_features module" href="calculate_chat_level_features.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Team Communication Toolkit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics.html">The Basics (Get Started Here!)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Worked Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features/index.html">Features: Technical Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../features_conceptual/index.html">Features: Conceptual Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature_builder.html">feature_builder module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Utilities</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#driver-classes-utterance-conversation-and-speaker-level-features">“Driver” Classes: Utterance-, Conversation-, and Speaker-Level Features</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="calculate_chat_level_features.html">calculate_chat_level_features module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">calculate_conversation_level_features module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator"><code class="docutils literal notranslate"><span class="pre">ConversationLevelFeaturesCalculator</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="calculate_user_level_features.html">calculate_user_level_features module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other-utilities">Other Utilities</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Team Communication Toolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Utilities</a></li>
      <li class="breadcrumb-item active">calculate_conversation_level_features module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/utils/calculate_conversation_level_features.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-utils.calculate_conversation_level_features">
<span id="calculate-conversation-level-features-module"></span><span id="conv-level-features"></span><h1>calculate_conversation_level_features module<a class="headerlink" href="#module-utils.calculate_conversation_level_features" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">utils.calculate_conversation_level_features.</span></span><span class="sig-name descname"><span class="pre">ConversationLevelFeaturesCalculator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chat_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conv_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vect_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vector_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conversation_id_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speaker_id_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convo_aggregation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convo_methods</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convo_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_aggregation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_methods</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chat_features</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Initialize variables and objects used by the ConversationLevelFeaturesCalculator class.</p>
<p>This class uses various feature modules to define conversation-level features. It reads input data and
initializes variables required to compute the features.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chat_data</strong> (<em>pd.DataFrame</em>) – Pandas dataframe of chat-level features read from the input dataset</p></li>
<li><p><strong>user_data</strong> (<em>pd.DataFrame</em>) – Pandas dataframe of user-level features derived from the chat-level dataframe</p></li>
<li><p><strong>conv_data</strong> (<em>pd.DataFrame</em>) – Pandas dataframe of conversation-level features derived from the chat-level dataframe</p></li>
<li><p><strong>vect_data</strong> (<em>pd.DataFrame</em>) – Pandas dataframe of processed vectors derived from the chat-level dataframe</p></li>
<li><p><strong>vector_directory</strong> (<em>str</em>) – Directory where vector files are stored</p></li>
<li><p><strong>convo_aggregation</strong> (<em>bool</em>) – If true, will aggregate features at the conversational level</p></li>
<li><p><strong>convo_methods</strong> (<em>list</em>) – Specifies which functions users want to aggregate with (e.g., mean, stdev…)</p></li>
<li><p><strong>convo_columns</strong> (<em>list</em>) – Specifies which columns (at the chat level) users want aggregated</p></li>
<li><p><strong>user_aggregation</strong> – If true, will aggregate features at the user level</p></li>
<li><p><strong>user_methods</strong> (<em>list</em>) – Specifies which functions users want to aggregate with (e.g., mean, stdev…) at the user level</p></li>
<li><p><strong>user_columns</strong> (<em>list</em>) – Specifies which columns (at the chat level) users want aggregated for the user level</p></li>
<li><p><strong>chat_features</strong> (<em>list</em>) – Tracks all the chat-level features generated by the toolkit</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.calculate_conversation_level_features">
<span class="sig-name descname"><span class="pre">calculate_conversation_level_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature_methods</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="headerlink" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.calculate_conversation_level_features" title="Link to this definition"></a></dt>
<dd><p>Main driver function for creating conversation-level features.</p>
<p>This function computes various conversation-level features by aggregating chat-level and user-level features,
and appends them as new columns to the input conversation-level data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feature_methods</strong> – The list of methods to use to generate features</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The conversation-level dataset with new columns for each conversation-level feature</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.calculate_info_diversity">
<span class="sig-name descname"><span class="pre">calculate_info_diversity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.calculate_info_diversity" title="Link to this definition"></a></dt>
<dd><p>Calculate an information diversity score for the team.</p>
<p>This function computes the information diversity score by looking at the cosine
similarity between the mean topic vector of the team and each message’s topic vectors,
and merges the results into the conversation-level data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.calculate_team_burstiness">
<span class="sig-name descname"><span class="pre">calculate_team_burstiness</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.calculate_team_burstiness" title="Link to this definition"></a></dt>
<dd><p>Calculate the team burstiness coefficient.</p>
<p>This function computes the team burstiness coefficient by looking at the differences
in standard deviation and mean of the time intervals between chats, and merges the
results into the conversation-level data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_conversation_level_aggregates">
<span class="sig-name descname"><span class="pre">get_conversation_level_aggregates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_conversation_level_aggregates" title="Link to this definition"></a></dt>
<dd><p>Aggregate summary statistics from chat-level features to conversation-level features.</p>
<p>This function calculates and merges the following aggregation functions for each summarizable feature:
- Average/Mean
- Standard Deviation
- Minimum
- Maximum</p>
<p>For countable features (e.g., num_words, num_chars, num_messages), it also calculates and merges the sum.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_discursive_diversity_features">
<span class="sig-name descname"><span class="pre">get_discursive_diversity_features</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_discursive_diversity_features" title="Link to this definition"></a></dt>
<dd><p>Calculate discursive diversity features for each conversation.</p>
<p>This function computes discursive diversity based on the word embeddings (SBERT)
and chat-level information, and merges the features into the conversation-level data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_gini_features">
<span class="sig-name descname"><span class="pre">get_gini_features</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_gini_features" title="Link to this definition"></a></dt>
<dd><p>Calculate the Gini index for relevant features in the conversation.</p>
<p>This function computes the Gini index for features involving counts, such as:
- Word count
- Character count
- Message count</p>
<p>The Gini index is then merged into the conversation-level data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_turn_taking_features">
<span class="sig-name descname"><span class="pre">get_turn_taking_features</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_turn_taking_features" title="Link to this definition"></a></dt>
<dd><p>Calculate the turn-taking index in the conversation.</p>
<p>This function merges turn-taking features into the conversation-level data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_user_level_aggregates">
<span class="sig-name descname"><span class="pre">get_user_level_aggregates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#utils.calculate_conversation_level_features.ConversationLevelFeaturesCalculator.get_user_level_aggregates" title="Link to this definition"></a></dt>
<dd><p>Aggregate summary statistics from user-level features to conversation-level features.</p>
<p>This function calculates and merges the following aggregation functions for each user-level feature:
- Average/Mean of summed user-level features
- Standard Deviation of summed user-level features
- Minimum of summed user-level features
- Maximum of summed user-level features
- Average/Mean of averaged user-level features
- Standard Deviation of averaged user-level features
- Minimum of averaged user-level features
- Maximum of averaged user-level features</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="calculate_chat_level_features.html" class="btn btn-neutral float-left" title="calculate_chat_level_features module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="calculate_user_level_features.html" class="btn btn-neutral float-right" title="calculate_user_level_features module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Xinlan Emily Hu and the Team Communication Toolkit Research Group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>